
# üìÑ What is the **Web App Manifest**? ‚Äî In depth

A **Web App Manifest** is a simple JSON file (`manifest.json` / `site.webmanifest`) that tells the browser about your web app ‚Äî its name, icons, how it should launch, what theme color to use, and more. It‚Äôs a core piece of a PWA: it enables ‚Äúinstallable‚Äù behavior (Add to Home screen), provides metadata for the OS/launcher, and controls how your app appears when opened.

---

## üîë What it does (at a glance)

* Declares the app **name**, **icons**, **start URL**, **display mode** (standalone/fullscreen), **theme/background colors**.
* Lets browsers show an install prompt and add the app to the home screen/launcher.
* In combination with a **Service Worker**, helps create an app-like, installable experience.

---

## üß© Minimal manifest example

```json
{
  "name": "My Awesome App",
  "short_name": "Awesome",
  "start_url": "/?source=pwa",
  "scope": "/",
  "display": "standalone",
  "background_color": "#ffffff",
  "theme_color": "#0d6efd",
  "icons": [
    {
      "src": "/icons/icon-192.png",
      "sizes": "192x192",
      "type": "image/png"
    },
    {
      "src": "/icons/icon-512.png",
      "sizes": "512x512",
      "type": "image/png",
      "purpose": "any maskable"
    }
  ]
}
```

And link it from HTML:

```html
<link rel="manifest" href="/manifest.json">
```

---

## üîç Important fields explained

* **`name`** ‚Äî Full name shown in app stores/installer UIs.
* **`short_name`** ‚Äî Short name used on home screen/launcher where space is limited.
* **`start_url`** ‚Äî URL opened when user launches the installed app. Can include query params to detect first-run (`/?source=pwa`).
* **`scope`** ‚Äî Restricts what URLs are considered ‚Äúin-app.‚Äù Default is the manifest‚Äôs directory. If navigation goes outside `scope`, the app opens in a browser tab.
* **`display`** ‚Äî Controls app chrome:

  * `fullscreen` ‚Äî no browser UI
  * `standalone` ‚Äî app-like, minimal UI
  * `minimal-ui` ‚Äî small browser UI (limited support)
  * `browser` ‚Äî regular browser
* **`background_color`** ‚Äî Background during splash screen / initial load.
* **`theme_color`** ‚Äî Used by the OS for UI (status bar, toolbar).
* **`icons`** ‚Äî Array of icon objects (`src`, `sizes`, `type`, optional `purpose`). Include a maskable icon for adaptive shapes (`"purpose": "maskable"`).
* **`orientation`** ‚Äî Locks orientation (e.g., `portrait` / `landscape`) if needed.
* **`lang` / `dir`** ‚Äî (Optional) language and text direction for the app.
* **`shortcuts`** ‚Äî Quick actions (Android/Chromium) when long-pressing the app icon.
* **`related_applications`** + **`prefer_related_applications`** ‚Äî Link to native store apps (Play/App Store). If `prefer_related_applications: true`, the OS may suggest the native app instead of the web app.
* **`share_target`** ‚Äî Allows the PWA to receive shared data from other apps (Android/Chromium).
* **`screenshots`** / **`categories`** ‚Äî Optional metadata to improve presentation in stores or install UIs.

---

## üñºÔ∏è Icons ‚Äî best practices

* Provide multiple sizes. Common recommended sizes: **48, 72, 96, 128, 144, 152, 192, 384, 512** (PNG recommended; include at minimum 192 and 512).
* Provide a **maskable** icon so launchers can adapt shapes:

  ```json
  {
    "src": "/icons/maskable-icon.png",
    "sizes": "512x512",
    "type": "image/png",
    "purpose": "maskable"
  }
  ```
* Square, lossless PNGs are safest cross-platform. Include `type` for clarity.
* iOS ignores the manifest icons ‚Äî include `<link rel="apple-touch-icon">` tags separately for iOS.

---

## üß∞ Extra features & advanced fields

* **`shortcuts`** ‚Äî Define launcher shortcuts (open certain pages / actions directly).

  ```json
  "shortcuts": [
    {
      "name": "New Message",
      "short_name": "Message",
      "url": "/compose",
      "icons": [{ "src": "/icons/shortcut-icon.png", "sizes": "96x96" }]
    }
  ]
  ```
* **`share_target`** ‚Äî Let other apps share content to your PWA. Useful for ‚Äúshare to app‚Äù scenarios.
* **`related_applications`** ‚Äî Point to native app with `{ "platform": "play", "id": "com.example.app", "url": "https://play.google.com/..." }`.

---

## ‚ö†Ô∏è iOS (Safari) caveats

* iOS Safari has **limited support** for the manifest. It **ignores many fields** (like `shortcuts`, `maskable`, `share_target`).
* For iOS you should add meta tags in HTML:

  ```html
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta name="apple-mobile-web-app-title" content="My Awesome App">
  <link rel="apple-touch-icon" href="/icons/apple-touch-icon.png">
  ```
* iOS also ignores `display: standalone` from the manifest for installation prompts; but if user manually adds to home screen, it behaves like an app.

---

## üîÅ Installation / installability requirements (Chrome-like browsers)

To be installable the browser typically expects:

1. A valid **manifest** linked from the page.
2. A **service worker** with a fetch handler (to demonstrate offline capability).
3. Served over **HTTPS** (except `localhost`).
4. A manifest with appropriate icon (‚â•192√ó192) and a reachable `start_url`.

Browsers may cache the manifest; changes might not appear immediately ‚Äî use versioning (query string) if you need to force an update.

---

## ‚úÖ Common pitfalls & tips

* **Manifest must be valid JSON** ‚Äî no comments allowed.
* **Link the manifest** with `<link rel="manifest" href="/manifest.json">`.
* **Serve from same origin** as your app (or ensure CORS is correct).
* **Scope too narrow** ‚Üí navigation opens new browser tab when moving outside scope. Set scope carefully.
* **Icons missing / wrong sizes** ‚Üí browser may reject installability. Include at least 192 and 512.
* **Expect differences across platforms** ‚Äî iOS has its own meta tags; Android/Chromium follow the manifest more fully.
* **Use `purpose: "maskable"`** for flexible icons that look good in adaptive icon masks.
* **Test with Lighthouse** (Chrome DevTools) to see PWA installability and manifest issues.

---

## ‚úÖ Quick manifest checklist

* [ ] `name` and `short_name` set
* [ ] `start_url` and `scope` appropriate
* [ ] `display` set (`standalone` recommended)
* [ ] `background_color` and `theme_color` set
* [ ] `icons` include 192√ó192 and 512√ó512 (maskable if possible)
* [ ] Manifest linked in HTML with `<link rel="manifest">`
* [ ] Served over HTTPS
* [ ] Service worker registered (for installability)
* [ ] iOS meta-tags and apple-touch-icon(s) added

---

## üî¨ How to test

* Open Chrome DevTools ‚Üí Application ‚Üí Manifest (inspect fields).
* Run Lighthouse Audit (PWA) ‚Äî it checks manifest + service worker + icons + installability.
* Test "Add to Home screen" on Android Chrome, test manual add-on iOS Safari.
* Check that `start_url` works offline (with service worker) after install.

---

## ‚úÖ TL;DR

The **Web App Manifest** is the JSON metadata file that tells browsers how to present and launch your web app like a native app (name, icons, start\_url, display, colors). It‚Äôs required for installability and, together with a Service Worker and HTTPS, forms the backbone of a PWA.

---