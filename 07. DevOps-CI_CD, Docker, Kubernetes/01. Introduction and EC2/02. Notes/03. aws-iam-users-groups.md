

# üë• IAM Users and Groups in AWS

## 1Ô∏è‚É£ IAM User ‚Äî What is it?

* **IAM User** = an **identity** in AWS that represents a person or an application.
* It can have:

  * **Console access** (sign in to AWS Management Console with username/password).
  * **Programmatic access** (API/CLI/SDK access via Access Key ID + Secret Access Key).
* Each IAM user lives **inside one AWS account**.
* Best practice:

  * Don‚Äôt use IAM users for everything. Instead, use **IAM roles** + federation (e.g., AWS Identity Center).
  * If IAM users are needed ‚Üí give them least privilege.

---

## 2Ô∏è‚É£ IAM Group ‚Äî What is it?

* **Group** = a collection of IAM users.
* Groups help **organize permissions**:

  * Instead of assigning policies to each user individually ‚úÖ
  * You attach policies to a group, then add users to it.

üìå **Key points about groups**:

* A user can belong to **multiple groups**.
* Groups **cannot** be nested (no group inside a group).
* Groups are for **permission management only** ‚Äî they don‚Äôt have credentials.

---

## 3Ô∏è‚É£ Difference between Users vs Groups

| Feature       | IAM User üë§                                  | IAM Group üë•               |
| ------------- | -------------------------------------------- | -------------------------- |
| Purpose       | Represents a person/app                      | Collection of users        |
| Credentials   | Yes (password, access keys)                  | No                         |
| Permissions   | Attached directly or via group               | Attached policies only     |
| Nesting       | N/A                                          | ‚ùå Not supported            |
| Best practice | Minimize direct policies, put user in groups | Use for shared permissions |

---

## 4Ô∏è‚É£ How to Create an IAM User (Step by Step) üõ†Ô∏è

**Option A: AWS Management Console**

1. Login to AWS Console ‚Üí **IAM Service**.
2. Go to **Users ‚Üí Add users**.
3. Enter a **username**.
4. Choose **access type**:

   * ‚úÖ AWS Management Console access (password).
   * ‚úÖ Programmatic access (API/CLI ‚Üí access key + secret key).
5. (Optional) Add user to a group (or skip for now).
6. Attach permissions (directly, or via groups, or copy from existing).
7. Review & create.
8. Download the `.csv` with access keys (if created).

**Option B: AWS CLI**

```bash
# Create user
aws iam create-user --user-name Alice
```

---

## 5Ô∏è‚É£ How to Create an IAM Group and Add Permissions üõ†Ô∏è

**Option A: Console**

1. IAM Service ‚Üí **User groups** ‚Üí Create group.
2. Enter a **Group name** (e.g., `Developers`).
3. Attach permissions:

   * Example: `AmazonS3ReadOnlyAccess` policy.
4. Create group.

**Option B: CLI**

```bash
# Create group
aws iam create-group --group-name Developers

# Attach policy (e.g., S3 read-only)
aws iam attach-group-policy \
  --group-name Developers \
  --policy-arn arn:aws:iam::aws:policy/AmazonS3ReadOnlyAccess
```

---

## 6Ô∏è‚É£ How to Add User to Group üõ†Ô∏è

**Console**

1. Go to **IAM ‚Üí Users ‚Üí Alice ‚Üí Groups ‚Üí Add user to groups**.
2. Select group (e.g., `Developers`) ‚Üí Add.

**CLI**

```bash
aws iam add-user-to-group \
  --user-name Alice \
  --group-name Developers
```

Now **Alice** inherits all permissions from `Developers`.

---

## 7Ô∏è‚É£ Assigning Access (Permissions) üîë

Permissions come from **policies** (JSON docs).
You can attach policies:

* Directly to a **User** (not recommended for large orgs).
* To a **Group** (best practice).
* Or use **Roles** with trust + STS for temporary credentials (more secure).

**Example: Grant S3 full access to a group**

```bash
aws iam attach-group-policy \
  --group-name Developers \
  --policy-arn arn:aws:iam::aws:policy/AmazonS3FullAccess
```

Now every user in `Developers` can manage S3.

---

## 8Ô∏è‚É£ Best Practices üß≠

* Create **groups per job function** (e.g., `Admins`, `Developers`, `Auditors`).
* Attach **managed policies** to groups (e.g., `AmazonEC2ReadOnlyAccess`).
* Avoid assigning policies directly to users (harder to manage).
* Enable **MFA** for console users.
* Use **IAM roles** or **AWS Identity Center (SSO)** for better scalability.
* Rotate and monitor access keys.

---

## ‚úÖ Wrap-up

* **Users** = individual identities with credentials.
* **Groups** = collections of users for easier permission management.
* **Access** = controlled by policies (attach to groups ‚Üí add users ‚Üí inherit permissions).
* Best practice = **Use groups + policies, avoid direct user permissions**.

---