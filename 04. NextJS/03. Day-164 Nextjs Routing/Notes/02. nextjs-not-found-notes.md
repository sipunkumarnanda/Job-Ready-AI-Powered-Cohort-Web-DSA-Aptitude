
# ğŸ“ Next.js `not-found.js` â€” Important Notes

---

## ğŸ”¹ 1. Purpose

* Special file in the **App Router** used for **404 (Page Not Found)**.
* Automatically rendered when:

  * The user visits a non-existing path inside that route segment.
  * You explicitly call `notFound()` in your code.

---

## ğŸ”¹ 2. Placement & Scope

* File name must be exactly **`not-found.js`** (or `.tsx`).
* Can exist at multiple levels:

  * `app/not-found.js` â†’ global fallback.
  * `app/courses/not-found.js` â†’ applies only to `/courses/*`.
* Next.js always picks the **nearest `not-found.js`** up the route tree.

ğŸ“‚ Example:

```
app/
 â”œâ”€ not-found.js        // global 404
 â””â”€ courses/
     â”œâ”€ not-found.js    // specific 404 for courses
     â””â”€ [id]/
         â””â”€ page.js
```

---

## ğŸ”¹ 3. Triggering 404

Use the helper function from `next/navigation`:

```js
import { notFound } from 'next/navigation';

export default async function Page({ params }) {
  const post = await getPost(params.id);
  if (!post) notFound();   // Shows nearest not-found.js
  return <div>{post.title}</div>;
}
```

* Commonly used when **data fetching fails** (e.g., blog post doesnâ€™t exist).
* Works in **Server Components** (during render/data fetch).

---

## ğŸ”¹ 4. Behavior & SEO

* Displays your custom `not-found.js` UI.
* Injects `<meta name="robots" content="noindex" />` automatically â†’ prevents missing pages from being indexed.
* âš ï¸ **Status code nuance**:

  * Normally returns HTTP `404`.
  * In **streaming mode**, sometimes returns `200` but shows the 404 UI (important for SEO â€” test with `curl`).

---

## ğŸ”¹ 5. Difference from `error.js`

| File               | Purpose                                                                    |
| ------------------ | -------------------------------------------------------------------------- |
| **`not-found.js`** | Missing resource (404). Called with `notFound()`.                          |
| **`error.js`**     | Runtime/rendering error (crash, exception). Provides recovery (`reset()`). |

ğŸ‘‰ Use `not-found.js` when **content doesnâ€™t exist**, `error.js` when **something broke**.

---

## ğŸ”¹ 6. Best Practices

* âœ… Always include a clear `<h1>` like *â€œ404 â€” Page not foundâ€*.
* âœ… Offer navigation back (Home, Courses, Search).
* âœ… Keep it lightweight and accessible (screen readers should announce).
* âœ… Add localized versions if your app supports i18n (`app/[lang]/not-found.js`).
* âœ… For segment-specific UX, place nested `not-found.js` (e.g., courses-specific 404).

---

## ğŸ”¹ 7. Quick Example `not-found.js`

```jsx
export default function NotFound() {
  return (
    <main className="flex flex-col items-center justify-center py-20">
      <h1 className="text-3xl font-bold">404 â€” Page not found</h1>
      <p className="mt-4 text-gray-600">Sorry, we couldnâ€™t find that page.</p>
      <a href="/" className="mt-6 text-blue-500 underline">Go back home</a>
    </main>
  );
}
```

---

âœ… With these notes, youâ€™ve got both the **short essentials** and the **in-depth details** you need for interviews, debugging, and project work.

---