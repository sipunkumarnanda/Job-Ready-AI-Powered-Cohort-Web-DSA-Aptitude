
# **Next.js 13 App Router: Server vs Client Components & Route Params**

---

## **1. Server Component Pattern (`params` as prop)**

```js
import { notFound } from 'next/navigation'
import React from 'react'

const Page = ({ params }) => { 
   const validProducts = ['laptop', 'phone', 'tablet']

   if(!validProducts.includes(params.productId)){
       notFound()
   }

   return (
       <div>
           <h6>Product: {params.productId}</h6>
       </div>
   )
}

export default Page
```

### **Characteristics**

* **Type:** Server component (default, no `'use client'` needed)
* **Route params:** Accessed via `params` prop
* **404 Handling:** ✅ Can use `notFound()`
* **Client hooks:** ❌ Cannot use `useState`, `useEffect`, etc.
* **Rendering:** Server-side
* **SEO:** ✅ Server-rendered HTML is SEO-friendly
* **Use Case:** Dynamic routes, data fetching, 404 pages, server-side logic

**Key Point:** The `params` prop is automatically injected by Next.js for dynamic routes.

---

## **2. Client Component Pattern (`useParams()` hook)**

```js
'use client'
import { useParams } from 'next/navigation'
import React from 'react'

const Page = () => {
   const validProducts = ['laptop', 'phone', 'tablet']
   const params = useParams()

   if(!validProducts.includes(params.productId)){
       return <div>Product Not Found</div>
   }

   return (
       <div>
           <h6>Product: {params.productId}</h6>
       </div>
   )
}

export default Page
```

### **Characteristics**

* **Type:** Client component (`'use client'` must be added)
* **Route params:** Accessed via `useParams()` hook
* **404 Handling:** ❌ Cannot use `notFound()`; must render fallback UI
* **Client hooks:** ✅ Can use `useState`, `useEffect`, etc.
* **Rendering:** Client-side, after hydration
* **SEO:** ❌ Less SEO-friendly unless pre-rendered on server
* **Use Case:** Interactive UI, forms, modals, client-only logic

**Key Point:** `useParams()` is a React hook; works **only in client components**.

---

## **3. Side-by-Side Comparison**

| Feature                     | Server Component (`{ params }`)  | Client Component (`useParams()`)    |
| --------------------------- | -------------------------------- | ----------------------------------- |
| `'use client'`              | ❌ Not needed                     | ✅ Must include                      |
| Access to route params      | Via props (`params`)             | Via hook (`useParams()`)            |
| 404 Handling (`notFound()`) | ✅ Works                          | ❌ Cannot use                        |
| Client-side hooks           | ❌ Cannot use                     | ✅ Can use (`useState`, `useEffect`) |
| Rendering                   | Server-side                      | Client-side                         |
| SEO                         | ✅ Good                           | ❌ Less SEO-friendly                 |
| Typical Use                 | Dynamic pages, 404, server logic | Interactive UI, client-side logic   |

---

## **4. Practical Rule of Thumb**

* **Server component (`params` prop)** → Use for pages that need **dynamic routing, 404 handling, server-side logic, or SEO-friendly content**.
* **Client component (`useParams` hook)** → Use for **interactive UI components** where client-side state or hooks are needed.

---