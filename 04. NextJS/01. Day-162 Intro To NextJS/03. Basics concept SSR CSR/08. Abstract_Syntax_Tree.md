
# 🌳 What is an AST?

An **Abstract Syntax Tree (AST)** is a structured, tree-shaped representation of your code.
Instead of treating code as just text, ESLint (and compilers) **parse** the code into an AST that captures **syntax and meaning**.

Example:

```js
const x = 42;
```

➡️ Parsed into an AST, it looks more like:

```
VariableDeclaration
 └── VariableDeclarator
      ├── Identifier (x)
      └── Literal (42)
```

---

# 🏗️ How an AST is Built

1. **Lexical Analysis (Tokenizing)**

   * Code → broken into tokens (`const`, `x`, `=`, `42`, `;`).

2. **Parsing**

   * Tokens → structured into nodes.
   * Each node = a syntactic construct (variable, function, operator, etc.).

3. **AST Creation**

   * A hierarchical tree structure is formed.

---

# 🌐 AST Node Anatomy

Every node in an AST usually has:

* **type** → what kind of syntax (`Identifier`, `Literal`, `FunctionDeclaration`).
* **properties** → extra info (name of variable, value of literal, etc.).
* **children** → nested nodes (body of function, arguments, etc.).
* **location** → where in the source code (line/column numbers).

Example (simplified JSON AST for our `const x = 42;`):

```json
{
  "type": "VariableDeclaration",
  "kind": "const",
  "declarations": [
    {
      "type": "VariableDeclarator",
      "id": { "type": "Identifier", "name": "x" },
      "init": { "type": "Literal", "value": 42 }
    }
  ]
}
```

---

# 🔎 How ESLint Uses the AST

1. **Parsing**: ESLint uses **Espree** (default) or other parsers (Babel, TypeScript) to build an AST.
2. **Traversal**: ESLint walks through each node in the tree.
3. **Rule Execution**:

   * Rules are functions that subscribe to certain node types.
   * Example: `no-unused-vars` listens for `VariableDeclarator` nodes.
4. **Reporting Issues**: If a rule finds a problem → it reports it (line, column, message).
5. **Fixes**: Some rules suggest safe fixes, modifying the AST and then regenerating code.

---

# 🛠️ Example in Action

Code:

```js
var y = 5;
```

* AST says: `VariableDeclaration` with `kind: "var"`.
* ESLint’s `no-var` rule hooks into `VariableDeclaration`.
* Sees `var` → reports issue.
* With `--fix`, replaces `var` with `let`.

---

# ✨ Why ASTs Matter

✅ Language-agnostic structure → tools like ESLint, Babel, TypeScript use them.
✅ Enables **linting, formatting, transpiling**.
✅ Makes deep code analysis possible (e.g., detecting unused variables, unsafe patterns).

---