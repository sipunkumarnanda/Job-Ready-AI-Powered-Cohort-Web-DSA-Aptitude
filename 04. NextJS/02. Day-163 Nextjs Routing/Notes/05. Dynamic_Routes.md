
# 🚀 Dynamic Routing in Next.js (App Router)

Dynamic routing lets you create **URLs with variable segments**. Instead of hardcoding paths (`/courses/1`, `/courses/2`), you define **dynamic segments** using square brackets (`[id]`) inside the `app/` directory.

This is super useful for pages like:

* `/courses/[id]` → course details by ID
* `/products/[id]/details/[detailId]` → product detail pages with nested IDs

---

## 📂 How Dynamic Routing Works

* Next.js maps **folder and file names** directly to routes.
* When you wrap a folder name in square brackets `[param]`, it becomes a **dynamic route segment**.
* Whatever string appears in the URL at that position will be passed as a parameter.

👉 Example:

```
app/courses/[id]/page.js
```

* Visiting `/courses/101` → `params.id = "101"`
* Visiting `/courses/react-basics` → `params.id = "react-basics"`

---

# 🏫 Example 1: Simple Dynamic Route (`/courses/[id]`)

### 📁 File structure

```
app/
 └── courses/
      └── [id]/
           └── page.js
```

### 📝 Code

```jsx
// app/courses/[id]/page.js
export default function CoursePage({ params }) {
  const { id } = params; // dynamic value from URL

  return (
    <div>
      <h1>Course ID: {id}</h1>
      <p>This is the course page for {id}.</p>
    </div>
  );
}
```

### 🔑 What happens:

* `/courses/123` → shows `Course ID: 123`
* `/courses/nextjs` → shows `Course ID: nextjs`

👉 Here, `[id]` is a **placeholder** that captures that part of the URL.

---

# 📦 Example 2: Nested Dynamic Routes (`/product/[id]/details/[detailId]`)

Sometimes you need **multiple levels of dynamic routes**. Example: product + detail page.

### 📁 File structure

```
app/
 └── product/
      └── [id]/
           └── details/
                └── [detailId]/
                     └── page.js
```

### 📝 Code

```jsx
// app/product/[id]/details/[detailId]/page.js
export default function ProductDetailPage({ params }) {
  const { id, detailId } = params;

  return (
    <div>
      <h1>Product: {id}</h1>
      <h2>Detail: {detailId}</h2>
    </div>
  );
}
```

### 🔑 What happens:

* `/product/10/details/200` → Product: 10, Detail: 200
* `/product/shoes/details/size-42` → Product: shoes, Detail: size-42

👉 Both `id` and `detailId` are extracted from the URL automatically.

---

# 🧩 Ways to Access Params

## 1️⃣ In **Server Components** (default in `app/`)

```jsx
export default function Page({ params }) {
  console.log(params); // { id: "123" }
}
```

* Parameters are injected directly into the `params` prop.
* Best for **data fetching** (SSR/SSG).

## 2️⃣ In **Client Components**

If you need to use hooks (like `useEffect`), declare `'use client'` and use the hook:

```jsx
'use client';
import { useParams } from 'next/navigation';

export default function ClientPage() {
  const params = useParams(); 
  return <div>Course ID: {params.id}</div>;
}
```

---

# 🛠️ Linking to Dynamic Routes

Use Next.js `<Link>` for navigation:

```jsx
import Link from 'next/link';

export default function Courses() {
  return (
    <ul>
      <li><Link href="/courses/101">Course 101</Link></li>
      <li><Link href="/courses/nextjs">Next.js Course</Link></li>
    </ul>
  );
}
```

For nested dynamic routes:

```jsx
<Link href="/product/10/details/200">Product 10 - Detail 200</Link>
```

---

# 🌍 Special Dynamic Routes

1. **Catch-all Routes**

   * `app/docs/[...slug]/page.js`
   * Matches `/docs/a`, `/docs/a/b/c` → `params.slug = ['a']` or `['a','b','c']`.

2. **Optional Catch-all**

   * `app/docs/[[...slug]]/page.js`
   * Matches `/docs` and `/docs/a/b`.

---

# ⚡ Benefits of Dynamic Routing in Next.js

* ✅ **Clean folder-based approach** (no need to declare routes manually like in React Router).
* ✅ **SEO-friendly URLs** (`/courses/nextjs` is better than `/courses?id=123`).
* ✅ **Server-side + static generation support** (works with `generateStaticParams`).
* ✅ **Nested layouts support** → easily add shared UI for dynamic routes.

---

# 🎯 Summary

* Use `[param]` folders inside `app/` to define dynamic route segments.
* Access params in **server components** via `{ params }` or in **client components** via `useParams()`.
* Nest multiple `[param]` folders to handle multi-level dynamic URLs like `/product/[id]/details/[detailId]`.
* Use catch-all routes (`[...slug]`) for flexible routing.

👉 With this, you can build dynamic dashboards, blogs, e-commerce product pages, and more — all powered by **Next.js App Router’s file-based dynamic routing**.

---