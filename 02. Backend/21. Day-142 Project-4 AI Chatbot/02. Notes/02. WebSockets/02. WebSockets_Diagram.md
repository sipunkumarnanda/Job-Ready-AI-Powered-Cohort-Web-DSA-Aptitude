
# **WebSocket lifecycle diagram** showing the entire flow from handshake to closing the connection.

---

```
ğŸ’» Client                              ğŸ–¥ï¸ Server
   â”‚                                      â”‚
   â”‚ 1ï¸âƒ£ HTTP GET + Upgrade: websocket ğŸ†™ â”‚
   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
   â”‚                                      â”‚
   â”‚          2ï¸âƒ£ 101 Switching Protocols âœ…â”‚
   â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
   â”‚                                      â”‚
   â”‚        ğŸ”Œ WebSocket connection open  â”‚
   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
   â”‚                                      â”‚
   â”‚ 3ï¸âƒ£ Send message ğŸ“¨                   â”‚
   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
   â”‚                                      â”‚
   â”‚ 4ï¸âƒ£ Receive message ğŸ“©                â”‚
   â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
   â”‚                                      â”‚
   â”‚ 5ï¸âƒ£ Ping ğŸ“                           â”‚
   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
   â”‚                                      â”‚
   â”‚ 6ï¸âƒ£ Pong ğŸ“                           â”‚
   â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
   â”‚                                      â”‚
   â”‚ 7ï¸âƒ£ Server sends update ğŸ””            â”‚
   â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
   â”‚                                      â”‚
   â”‚ 8ï¸âƒ£ Close âŒ                          â”‚
   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
   â”‚                                      â”‚
   â”‚ 9ï¸âƒ£ Close ACK âŒ                      â”‚
   â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
   â”‚                                      â”‚
   â”‚      ğŸ”’ TCP connection closed        â”‚
   â”‚                                      â”‚
```

---

### **Legend**

* **1ï¸âƒ£â€“2ï¸âƒ£** â†’ **Handshake phase** ğŸ¤ â€” Start as HTTP, switch to WebSocket.
* **3ï¸âƒ£â€“4ï¸âƒ£** â†’ **Messaging phase** ğŸ’¬ â€” Both sides can send text or binary frames anytime.
* **5ï¸âƒ£â€“6ï¸âƒ£** â†’ **Heartbeat phase** â¤ï¸ â€” Ping/Pong keeps the connection alive and detects timeouts.
* **7ï¸âƒ£** â†’ **Server push** ğŸ“¡ â€” Server can send updates without waiting for a client request.
* **8ï¸âƒ£â€“9ï¸âƒ£** â†’ **Closing phase** ğŸšª â€” Exchange Close frames, then shut down TCP.

---