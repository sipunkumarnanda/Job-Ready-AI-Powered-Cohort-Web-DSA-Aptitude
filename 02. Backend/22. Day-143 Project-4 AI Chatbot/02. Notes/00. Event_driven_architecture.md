
# Reference - Procodrr - Lecture

# üåü Event-Driven Architecture (EDA) ‚Äî Deep Dive

### üîé What is Event-Driven Architecture?

**Event-Driven Architecture (EDA)** is a software design paradigm where **components communicate by producing and consuming events** rather than calling each other directly.

* **Events** are significant changes or happenings in a system ‚Äî e.g., "user signed up," "order placed," "payment processed."
* Components **emit (publish) events** when something important happens.
* Other components **listen (subscribe) to those events** and react accordingly.

---

### üõ†Ô∏è Core Concepts in EDA:

| Concept                     | Explanation                                                                          |
| --------------------------- | ------------------------------------------------------------------------------------ |
| **Event**                   | A message indicating something happened (e.g., "OrderCreated")                       |
| **Event Producer**          | Component that emits an event when a state change occurs                             |
| **Event Consumer**          | Component that listens for events and acts upon them                                 |
| **Event Broker (optional)** | Middleware (like Kafka, RabbitMQ) that routes events between producers and consumers |

---

### üéØ Why Use Event-Driven Architecture?

* **Loose Coupling:** Components don‚Äôt directly depend on each other; they communicate via events.
* **Scalability:** Easy to add or modify components without impacting others.
* **Asynchronous Processing:** Events can be handled later, improving responsiveness.
* **Flexibility:** Multiple components can react to the same event differently.

---

### üì¶ Example Scenario

Imagine an e-commerce platform:

* When a **user places an order**, the **Order Service** emits an `orderCreated` event.
* The **Inventory Service** listens for `orderCreated` events and updates stock.
* The **Notification Service** listens for the same event to send an email confirmation.
* The **Analytics Service** listens to gather data on orders.

All these services react independently to the event ‚Äî no direct calls.

---

# üöÄ Node.js Example: Simple Event-Driven System

Node.js has a built-in `EventEmitter` class from the `events` module, which lets you create and handle events easily.

---

### Step 1: Create an Event Emitter

```js
const EventEmitter = require('events');
class MyEmitter extends EventEmitter {}
const myEmitter = new MyEmitter();
```

---

### Step 2: Define Event Consumers (Listeners)

```js
// Inventory Service
myEmitter.on('orderCreated', (order) => {
  console.log(`Inventory Service: Updating stock for order ${order.id}`);
  // Logic to update inventory
});

// Notification Service
myEmitter.on('orderCreated', (order) => {
  console.log(`Notification Service: Sending confirmation email for order ${order.id}`);
  // Logic to send email
});
```

---

### Step 3: Emit an Event (Producer)

```js
function createOrder(order) {
  console.log(`Order Service: Creating order ${order.id}`);

  // Emit 'orderCreated' event
  myEmitter.emit('orderCreated', order);
}

// Simulate new order
createOrder({ id: 101, item: 'Laptop', quantity: 1 });
```

---

### üñ•Ô∏è Output

```
Order Service: Creating order 101
Inventory Service: Updating stock for order 101
Notification Service: Sending confirmation email for order 101
```

---

### Explanation:

* The **Order Service** emits the `'orderCreated'` event with order details.
* The **Inventory** and **Notification Services** listen to `'orderCreated'` and run their logic.
* They are completely decoupled ‚Äî the Order Service doesn‚Äôt call them directly.

---

### üèóÔ∏è Scaling with Message Brokers

In real-world, distributed systems, instead of using Node.js EventEmitter, you‚Äôd use **message brokers** like:

* **Kafka**
* **RabbitMQ**
* **AWS SNS/SQS**

These help route events reliably between services running on different machines.

---

# üåü Summary

| Aspect              | Description                                          |
| ------------------- | ---------------------------------------------------- |
| What is EDA?        | Architecture where components communicate via events |
| Benefits            | Loose coupling, scalability, async processing        |
| Key parts           | Event Producers, Consumers, and optionally Brokers   |
| Node.js support     | `EventEmitter` class for local event-driven design   |
| Real-world use case | Microservices communicating via message brokers      |

---