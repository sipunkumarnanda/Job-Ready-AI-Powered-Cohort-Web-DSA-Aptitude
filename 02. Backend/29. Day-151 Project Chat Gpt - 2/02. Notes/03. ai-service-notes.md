
# ü§ñ AI Service (`ai.service.js`)

---

## üõ†Ô∏è Full Code

```javascript
import { GoogleGenAI } from "@google/genai";
import dotenv from 'dotenv'
dotenv.config()

const ai = new GoogleGenAI({
    apiKey : process.env.GEMINI_API_KEY
});

async function generateResponse(prompt) {
  const response = await ai.models.generateContent({
    model: "gemini-2.0-flash",
    contents: prompt,
  });
  return response.text
}

export default generateResponse
```

---

## üìñ Detailed Notes on Modules and Functionality

---

### 1Ô∏è‚É£ **GoogleGenAI SDK**

```javascript
import { GoogleGenAI } from "@google/genai";
```

* **Purpose:** Connects to Google‚Äôs **Gemini AI platform** for content generation.
* Provides a high-level interface to generate AI responses using pre-trained models.
* Handles **API requests** and returns structured AI outputs.

---

### 2Ô∏è‚É£ **dotenv**

```javascript
import dotenv from 'dotenv'
dotenv.config()
```

* **Purpose:** Loads environment variables from a `.env` file.
* Keeps sensitive data like **API keys** out of the source code.
* Example in this file:

  ```javascript
  process.env.GEMINI_API_KEY
  ```

  * Used to authenticate requests to Google Gemini AI.

---

### 3Ô∏è‚É£ **Initializing AI Client**

```javascript
const ai = new GoogleGenAI({
    apiKey : process.env.GEMINI_API_KEY
});
```

* Creates a **client instance** of GoogleGenAI.
* Requires **API key** for authentication.
* This client object is used to **send prompts and receive responses**.

---

### 4Ô∏è‚É£ **generateResponse Function**

```javascript
async function generateResponse(prompt) {
  const response = await ai.models.generateContent({
    model: "gemini-2.0-flash",
    contents: prompt,
  });
  return response.text
}
```

#### üîπ Parameters

* `prompt` ‚Üí Array or object representing **conversation history or instructions** for the AI.

#### üîπ Steps:

1. Calls the Gemini model `gemini-2.0-flash` using `generateContent`.
2. Sends the prompt as `contents`.
3. Waits for the AI to generate a **text response**.
4. Returns the **generated text**.

#### üîπ Notes:

* `async/await` ensures the function handles asynchronous API calls cleanly.
* Can integrate into a **chat application** to provide real-time AI responses.

---

### 5Ô∏è‚É£ **Exporting Function**

```javascript
export default generateResponse
```

* Makes `generateResponse` available for **importing in other modules** (like `socket.server.js`).
* Keeps the AI logic **modular and reusable**.

---

### üîë Key Takeaways

* This service **abstracts AI interaction** into a single function.
* Handles:

  * Authentication (`API key`)
  * Model selection (`gemini-2.0-flash`)
  * Prompt submission and response parsing
* Ideal for **chatbots, content generation, or AI assistant services**.

---