
# ğŸŒŸ Partials & Layouts in EJS (with `res.render()`)

---

## ğŸŸ¢ 1. What are Partials in EJS?

* **Partials = small reusable template files ğŸ§©**

* They contain repeating pieces of UI like:

  * ğŸ§­ Navbar
  * ğŸ“ Footer
  * ğŸ“Œ Sidebar

* Instead of writing the same HTML again and again in every `.ejs` file, you write it **once in a partial** and **include it everywhere**.

ğŸ‘‰ Saves **time**, avoids **duplicate code**, and keeps design **consistent**.

---

## ğŸŸ¢ 2. Creating a Partial

Letâ€™s create a **navbar partial**.

ğŸ“ Project structure:

```
views/
 â”œâ”€â”€ partials/
 â”‚    â””â”€â”€ navbar.ejs
 â”œâ”€â”€ home.ejs
 â”œâ”€â”€ about.ejs
 â””â”€â”€ contact.ejs
```

### ğŸ–¼ `views/partials/navbar.ejs`

```html
<nav>
  <ul>
    <li><a href="/">Home</a></li>
    <li><a href="/about">About</a></li>
    <li><a href="/contact">Contact</a></li>
  </ul>
</nav>
```

---

## ğŸŸ¢ 3. Using a Partial in a Page

### ğŸ–¼ `views/home.ejs`

```html
<!DOCTYPE html>
<html>
<head>
  <title>Home</title>
</head>
<body>
  <!-- Include Navbar Partial -->
  <%- include("partials/navbar") %>  

  <h1>Welcome to Home Page ğŸ‰</h1>
</body>
</html>
```

### ğŸ–¼ `views/about.ejs`

```html
<!DOCTYPE html>
<html>
<head>
  <title>About</title>
</head>
<body>
  <%- include("partials/navbar") %>  

  <h1>About Us ğŸ“–</h1>
</body>
</html>
```

ğŸ‘‰ Now, if you want to change a menu link, you only edit `navbar.ejs` âœ….
All pages update automatically ğŸš€.

---

## ğŸŸ¢ 4. What about Layouts?

Layouts are like **master templates ğŸ **.
They hold the **basic page structure** (HTML boilerplate) and allow content to be inserted inside.

ğŸ“ Example Structure:

```
views/
 â”œâ”€â”€ layout.ejs
 â”œâ”€â”€ partials/
 â”‚    â”œâ”€â”€ navbar.ejs
 â”‚    â””â”€â”€ footer.ejs
 â”œâ”€â”€ home.ejs
 â””â”€â”€ about.ejs
```

---

## ğŸŸ¢ 5. Building a Layout

### ğŸ–¼ `views/layout.ejs`

```html
<!DOCTYPE html>
<html>
<head>
  <title><%= title %></title>
</head>
<body>
  <%- include("partials/navbar") %>

  <!-- Page Content Goes Here -->
  <main>
    <%- body %>
  </main>

  <%- include("partials/footer") %>
</body>
</html>
```

---

## ğŸŸ¢ 6. Rendering Pages with Layouts

To use layouts easily, install **express-ejs-layouts** (a middleware).

ğŸ“¦ Install:

```bash
npm install express-ejs-layouts
```

âš™ï¸ In `app.js`:

```js
import express from "express";
import expressLayouts from "express-ejs-layouts";

const app = express();

app.set("view engine", "ejs");
app.use(expressLayouts); // enable layouts
```

Now your routes can render with layouts:

```js
router.get("/", (req, res) => {
  res.render("home", { title: "Home Page", layout: "layout" });
});

router.get("/about", (req, res) => {
  res.render("about", { title: "About Page", layout: "layout" });
});
```

---

## ğŸŸ¢ 7. Example of a Page with Layout

### ğŸ–¼ `views/home.ejs`

```html
<h1>Welcome to the Home Page ğŸ‰</h1>
<p>This is where the fun begins!</p>
```

### ğŸ–¼ `views/about.ejs`

```html
<h1>About Us ğŸ“–</h1>
<p>We are awesome developers ğŸ˜</p>
```

ğŸ’¡ These pages donâ€™t need full HTML â€” only the unique content.
The **layout handles boilerplate** (doctype, head, navbar, footer).

---

## ğŸŸ¢ 8. Final Flow of `res.render()` with Layouts

1. Client requests `/`.
2. Route calls `res.render("home", { layout: "layout" })`.
3. Express-EJS-Layouts merges:

   * `layout.ejs` â†’ main wrapper.
   * `home.ejs` â†’ inserted into `<%- body %>`.
4. Navbar + Footer partials also get included.
5. Final HTML is sent to browser.

---

# ğŸŒ Final Cheat-Sheet (with Emojis)

* ğŸ§© **Partials** â†’ reusable snippets (`navbar.ejs`, `footer.ejs`).
* ğŸ  **Layouts** â†’ master template wrapping all pages.
* âš¡ `express-ejs-layouts` â†’ middleware to use layouts.
* ğŸ”„ `res.render("view", { layout: "layout" })` â†’ combine layout + page.
* ğŸ¨ Benefit â†’ clean, DRY code, easy maintenance.

---