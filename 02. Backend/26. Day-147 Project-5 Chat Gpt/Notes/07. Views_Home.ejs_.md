
# 📄 Code: `views/home.ejs`

```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ChatGPT Clone</title>
  <link rel="stylesheet" href="/styles/theme.css">
  <link rel="stylesheet" href="/styles/chat.css">
</head>
<body>
  <div class="app-shell">

    <!-- Sidebar -->
    <aside class="sidebar" id="sidebar">
      <!-- Close button (mobile only) -->
      <button class="close-btn" id="closeSidebar">✖</button>

      <div class="sidebar-top">
        <button class="new-chat-btn">+ New chat</button>
      </div>

      <div class="search-bar">
        <input type="text" placeholder="Search chats..." />
      </div>

      <div class="chat-history">
        <div class="history-item active">
          <span class="history-icon">💬</span>
          <span class="history-text">Temporary Chat</span>
        </div>
        <div class="history-item">
          <span class="history-icon">💬</span>
          <span class="history-text">Chat 2</span>
        </div>
      </div>

      <div class="sidebar-bottom">
        <div class="library">Library</div>
        <div class="settings">Settings</div>
      </div>

      <div class="sidebar-bottom">
        <button class="logout-btn">Log Out</button>
      </div>
    </aside>

    <!-- Chat Panel -->
    <main class="chat-panel">
      <!-- Mobile Navbar -->
      <nav class="mobile-nav">
        <button id="menuToggle" class="menu-btn">☰</button>
      </nav>

      <div class="messages" id="messages">
        <div class="message user">
          <div class="bubble">Hello, ChatGPT!</div>
        </div>
        <div class="message assistant">
          <div class="bubble">Hi! How can I help you today?</div>
        </div>
      </div>

      <div class="chat-composer">
        <textarea id="composerInput" placeholder="Ask anything"></textarea>
        <button class="send-btn">➤</button>
      </div>
    </main>

  </div>
   <script src="https://cdn.socket.io/4.8.1/socket.io.min.js" integrity="sha384-mkQ3/7FUtcGyoppY6bz/PORYoGqOl7/aSUMn2ymDOJcapfS6PHqxhRTMh1RR0Q6+" crossorigin="anonymous"></script>
   <script>
      const socket = io();
   </script>
   <script type="module" src="/scripts/chat.js" defer></script>
</body>
</html>
```

---

# 📝 Notes & Explanations

---

## 1. 🏗️ Base HTML Structure

```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ChatGPT Clone</title>
  <link rel="stylesheet" href="/styles/theme.css">
  <link rel="stylesheet" href="/styles/chat.css">
</head>
```

* Declares **HTML5 document** (`<!DOCTYPE html>`).
* `lang="en"` → English language.
* `meta charset="UTF-8"` → supports all characters (Unicode).
* `meta viewport` → makes site responsive on mobile.
* `<title>` → sets page title.
* Links CSS files:

  * `theme.css` → general theme styles.
  * `chat.css` → chat UI styles.

---

## 2. 📑 App Shell Layout

```html
<body>
  <div class="app-shell">
```

* `app-shell` → main container holding the **sidebar** and **chat panel**.
* Keeps layout structured and styled consistently.

---

## 3. 📂 Sidebar Section

```html
<aside class="sidebar" id="sidebar">
  <button class="close-btn" id="closeSidebar">✖</button>

  <div class="sidebar-top">
    <button class="new-chat-btn">+ New chat</button>
  </div>

  <div class="search-bar">
    <input type="text" placeholder="Search chats..." />
  </div>

  <div class="chat-history">
    <div class="history-item active">
      <span class="history-icon">💬</span>
      <span class="history-text">Temporary Chat</span>
    </div>
    <div class="history-item">
      <span class="history-icon">💬</span>
      <span class="history-text">Chat 2</span>
    </div>
  </div>

  <div class="sidebar-bottom">
    <div class="library">Library</div>
    <div class="settings">Settings</div>
  </div>

  <div class="sidebar-bottom">
    <button class="logout-btn">Log Out</button>
  </div>
</aside>
```

* `<aside>` → semantic tag for sidebar.
* Contains:

  * **Close button (✖)** for mobile view.
  * **New Chat** button to start fresh conversations.
  * **Search bar** for searching past chats.
  * **Chat history list** showing saved chats.
  * **Sidebar bottom** → navigation (Library, Settings).
  * **Logout button**.

👉 Provides navigation and session management like ChatGPT’s left menu.

---

## 4. 💬 Chat Panel Section

```html
<main class="chat-panel">
  <nav class="mobile-nav">
    <button id="menuToggle" class="menu-btn">☰</button>
  </nav>

  <div class="messages" id="messages">
    <div class="message user">
      <div class="bubble">Hello, ChatGPT!</div>
    </div>
    <div class="message assistant">
      <div class="bubble">Hi! How can I help you today?</div>
    </div>
  </div>

  <div class="chat-composer">
    <textarea id="composerInput" placeholder="Ask anything"></textarea>
    <button class="send-btn">➤</button>
  </div>
</main>
```

* `<main>` → main chat panel.
* **Mobile navbar** → menu toggle (`☰`) for smaller screens.
* **Messages container** (`#messages`) → holds chat bubbles:

  * `.message.user` → user messages.
  * `.message.assistant` → AI responses.
* **Chat composer** → text input + send button ➤ for typing new messages.

👉 This is the heart of the chat UI.

---

## 5. ⚡ Socket.io & Scripts

```html
<script src="https://cdn.socket.io/4.8.1/socket.io.min.js" crossorigin="anonymous"></script>
<script>
  const socket = io();
</script>
<script type="module" src="/scripts/chat.js" defer></script>
```

* Loads **Socket.io client library** from CDN.
* Initializes a **socket connection**:

  ```js
  const socket = io();
  ```

  → Connects to the server on same origin by default (`http://localhost:3000`).
* Loads custom **chat.js** script to handle events, UI, and real-time logic.
* `type="module"` → allows ES6 imports in `chat.js`.
* `defer` → ensures script loads after HTML rendering.

---

# 🚨 Note about your second file (`public/script/chat.js`)

The code you pasted is actually a **full HTML page again**, not JavaScript.
But since you’re referencing it as:

```html
<script type="module" src="/scripts/chat.js" defer></script>
```

👉 This file **should not be HTML**. It should contain **JavaScript** to handle:

* Sending user input to server via `socket.emit("ai-message", msg)`.
* Listening for AI replies via `socket.on("ai-message-response", ...)`.
* Updating DOM (`#messages`) with new chat bubbles.

---

# 🌟 Final Summary

* `home.ejs` → defines the **chat UI** (sidebar + chat panel).
* Sidebar = navigation (new chat, history, logout).
* Chat panel = conversation area + composer.
* Socket.io client (`io()`) is initialized here.
* `chat.js` should handle real-time chat logic (currently miswritten as HTML).

---