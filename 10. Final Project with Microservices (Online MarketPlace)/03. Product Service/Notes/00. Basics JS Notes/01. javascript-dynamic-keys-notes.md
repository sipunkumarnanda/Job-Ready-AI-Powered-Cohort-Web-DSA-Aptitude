


# ðŸ“˜ COMPLETE NOTE: Dynamic Keys in JavaScript

## From Basics â†’ Real-World Usage â†’ Common Mistakes

---

## 1ï¸âƒ£ What Is a Key in an Object? (Absolute Basics)

```js
const user = {
  name: 'Alice',
  age: 25,
  city: 'London'
};
```

* `name`, `age`, `city` â†’ **keys (property names)**
* `'Alice'`, `25`, `'London'` â†’ values

Keys are how we **identify and access data** inside objects.

---

## 2ï¸âƒ£ Static Keys (Normal Access)

### Using Dot Notation

```js
user.name;   // 'Alice'
user.age;    // 25
```

### Characteristics

âœ” Key is written directly in code
âœ” Known in advance
âœ” Most common and readable

This is called **static access**.

---

## 3ï¸âƒ£ What Is a Dynamic Key? (Core Concept)

A **dynamic key** means:

> The property name is **not written directly**, but stored in a **variable**.

### Example

```js
let key = 'name';
user[key]; // 'Alice'
```

Here:

* `key` is a variable
* The property accessed depends on the value of `key`

If:

```js
key = 'age';
```

Then:

```js
user[key]; // 25
```

âž¡ï¸ The key changes **at runtime** â†’ dynamic.

---

## 4ï¸âƒ£ Why Dot Notation FAILS for Dynamic Keys âŒ

### âŒ Wrong Way

```js
let key = 'name';
user.key; // undefined
```

### Why this fails

JavaScript thinks:

```js
user['key']
```

But the object does NOT have a property called `"key"`.

---

## 5ï¸âƒ£ Correct Way: Bracket Notation âœ…

```js
user[key];
```

### How JavaScript reads it internally

```js
user['name'];
```

âœ” Works
âœ” Dynamic
âœ” Powerful

---

## 6ï¸âƒ£ Comparing Static vs Dynamic Access

| Type    | Example     | When to Use  |
| ------- | ----------- | ------------ |
| Static  | `user.name` | Known keys   |
| Dynamic | `user[key]` | Runtime keys |

---

## 7ï¸âƒ£ Real-World Example: User Input

```js
function getValue(obj, field) {
  return obj[field];
}

getValue(user, 'name'); // 'Alice'
getValue(user, 'age');  // 25
```

Here:

* `field` comes from user input or API
* Cannot use dot notation
* Must use dynamic access

---

## 8ï¸âƒ£ Dynamic Keys in Loops (Very Common)

```js
for (let key in user) {
  console.log(key, user[key]);
}
```

Why `user[key]`?

* `key` changes each loop
* Dot notation cannot work

---

## 9ï¸âƒ£ Dynamic Keys with Arrays of Keys

```js
const fields = ['name', 'city'];

fields.forEach(key => {
  console.log(user[key]);
});
```

âœ” Clean
âœ” Flexible
âœ” Real-world pattern

---

## ðŸ”Ÿ Dynamic Keys in Objects (Computed Properties)

### Creating object keys dynamically

```js
let field = 'email';

const obj = {
  [field]: 'a@b.com'
};
```

Result:

```js
{ email: 'a@b.com' }
```

---

## 1ï¸âƒ£1ï¸âƒ£ Dynamic Keys vs Object Destructuring (IMPORTANT)

### âŒ Destructuring Does NOT Work with Dynamic Keys

```js
let key = 'name';
const { key } = user; // âŒ WRONG
```

Why?

* Destructuring looks for literal `"key"`
* It does NOT evaluate variables

---

### âœ… Correct Way

```js
const value = user[key];
```

---

## 1ï¸âƒ£2ï¸âƒ£ Why Destructuring Canâ€™t Be Used Here

Destructuring works on **known structure**:

```js
const { name } = user;
```

Dynamic keys depend on **runtime values**:

```js
user[key];
```

âž¡ï¸ Different purposes, different tools.

---

## 1ï¸âƒ£3ï¸âƒ£ Safe Dynamic Access (Optional Chaining)

### âŒ Crash Risk

```js
user.profile.email; // crash if profile is undefined
```

---

### âœ… Safe Dynamic Access

```js
user.profile?.[key];
```

âœ” Prevents crash
âœ” Advanced but useful

---

## 1ï¸âƒ£4ï¸âƒ£ Real-World Backend Example

```js
function filterUser(user, allowedFields) {
  const result = {};

  allowedFields.forEach(key => {
    if (user[key] !== undefined) {
      result[key] = user[key];
    }
  });

  return result;
}
```

âœ” Security
âœ” Clean API responses
âœ” Dynamic behavior

---

## 1ï¸âƒ£5ï¸âƒ£ Common Mistakes & Fixes

### âŒ Using dot notation with variables

```js
user.key; // âŒ
```

âœ” Fix:

```js
user[key];
```

---

### âŒ Expecting destructuring to work dynamically

```js
const { key } = user; // âŒ
```

âœ” Fix:

```js
const value = user[key];
```

---

## 1ï¸âƒ£6ï¸âƒ£ When NOT to Use Dynamic Keys

âŒ When keys are fixed:

```js
user.name
```

âŒ When destructuring improves clarity:

```js
const { name, age } = user;
```

---

## â­ Final Summary

### Dynamic Keys

âœ” Property name stored in a variable
âœ” Accessed using bracket notation
âœ” Evaluated at runtime

### Destructuring

âœ” Works only for known keys
âœ” Cleaner and safer for fixed structure

---

## ðŸ”‘ One-Line Rule (Memorize)

> **If the property name comes from a variable, use bracket notation â€” not destructuring or dot notation.**

---