


# ğŸ“˜ JavaScript Bracket Notation (`object['key']`) â€“ In-Depth Notes

---

## ğŸ§  What is Bracket Notation?

**Bracket notation** is a way to **access or set properties of a JavaScript object using square brackets `[]` and a string key**.

```js
object['key']
```

âœ… The key is treated as a **string**
âœ… Very powerful and flexible
âœ… Used heavily in **backend & MongoDB queries**

---

## ğŸ”‘ Why Bracket Notation Exists

Dot notation (`object.key`) has **limitations**.

Bracket notation solves those problems by allowing:

* Special characters in keys
* Dynamic (variable-based) keys
* MongoDB dot-paths like `"price.amount"`

---

## ğŸ†š Dot Notation vs Bracket Notation

### Dot notation

```js
filter.age = 25;
```

### Bracket notation

```js
filter['age'] = 25;
```

âœ” Both work **only if the key is a valid identifier**

---

## ğŸš« When Dot Notation FAILS âŒ

Dot notation **cannot be used** when:

### 1ï¸âƒ£ Key contains a dot `.`

```js
filter['price.amount'] = 100; // âœ…
filter.price.amount = 100;    // âŒ different meaning
```

---

### 2ï¸âƒ£ Key contains special characters

```js
user['first-name'] = 'Sipun'; // âœ…
user.first-name = 'Sipun';   // âŒ error
```

---

### 3ï¸âƒ£ Key contains spaces

```js
data['total price'] = 500;   // âœ…
data.total price = 500;      // âŒ invalid
```

---

### 4ï¸âƒ£ Key comes from a variable (dynamic key)

```js
const key = 'age';
user[key] = 21;              // âœ…
user.key = 21;               // âŒ sets "key", not "age"
```

---

## ğŸ§© Understanding `filter['price.amount']`

### Code:

```js
filter['price.amount'] = { $gte: 10 };
```

### What JavaScript creates:

```js
{
  "price.amount": { $gte: 10 }
}
```

ğŸ§  **Important**:

* `"price.amount"` is **ONE string key**
* JavaScript does **NOT** create nested objects automatically

---

## ğŸ†š Common Confusion: Same-looking but Different

### âŒ This:

```js
filter.price.amount = { $gte: 10 };
```

Means:

```js
{
  price: {
    amount: { $gte: 10 }
  }
}
```

âš ï¸ This will also **crash** if `filter.price` doesnâ€™t exist.

---

## ğŸ§  Why MongoDB Uses `'price.amount'`

MongoDB understands **dot notation paths**.

```js
{
  "price.amount": { $gte: 10, $lte: 20 }
}
```

MongoDB interprets it as:

> Look inside `price`, then inside `amount`

Thatâ€™s why in MongoDB filters we use:

```js
filter['price.amount']
```

---

## ğŸ”„ Using Bracket Notation with Spread Operator

### Example:

```js
filter['price.amount'] = {
  ...filter['price.amount'],
  $gte: 10
};
```

### Why this is powerful:

* Keeps existing conditions
* Adds new ones safely
* Works even if nothing exists before

---

## ğŸ§ª Full Real Example (Backend Style)

```js
let filter = {};

filter['price.amount'] = {
  ...filter['price.amount'],
  $gte: 10
};

filter['price.amount'] = {
  ...filter['price.amount'],
  $lte: 20
};

console.log(filter);
```

### Output:

```js
{
  "price.amount": {
    $gte: 10,
    $lte: 20
  }
}
```

---

## ğŸ§ƒ Simple Real-Life Analogy

Think of an object as a **dictionary ğŸ“–**:

* Dot notation â†’ normal words
* Bracket notation â†’ **exact string lookup**

```js
dictionary['ice-cream']  // works
dictionary.ice-cream    // broken âŒ
```

---

## âœ… When Should You Use Bracket Notation?

Use `[]` when:

* ğŸ”¹ Key has dots (`.`)
* ğŸ”¹ Key has spaces or symbols
* ğŸ”¹ Key is dynamic (variable)
* ğŸ”¹ Working with MongoDB / APIs
* ğŸ”¹ Building filters dynamically

---

## ğŸš« When NOT Needed

You **donâ€™t need** bracket notation when:

```js
user.age = 25;
user.name = 'Sipun';
```

Dot notation is **cleaner** for simple cases.

---

## ğŸ§  Interview-Ready One-Line Definition ğŸ¯

> **Bracket notation** is a way to access or set object properties using a string key, allowing special characters, dynamic keys, and MongoDB-style dot paths.

---

## ğŸ Final Key Takeaways

âœ” `filter['price.amount']` is **bracket notation**
âœ” `"price.amount"` is a **single string key**
âœ” JavaScript â‰  MongoDB parsing
âœ” Dot notation and bracket notation are **NOT interchangeable**
âœ” Bracket notation is **essential for backend development**

---