


# ğŸ“˜ What Is an `async` Function in JavaScript?

---

## 1ï¸âƒ£ What Is a Normal Function?

A normal function runs **synchronously** (line by line).

```js
function greet() {
  return "Hello";
}

const result = greet();
console.log(result);
```

### Output

```
Hello
```

ğŸ“Œ The function:

* Runs immediately
* Returns the value directly

---

## 2ï¸âƒ£ Why Do We Need `async` Functions?

Some operations take **time**:

* API calls
* Database queries
* File uploads
* Timers

JavaScript **cannot block** and wait, so it uses **Promises**.

---

## 3ï¸âƒ£ What Is an `async` Function?

An `async` function is a **special function** that:

> âœ… Allows you to write asynchronous code
> âœ… Automatically returns a Promise
> âœ… Works with `await`

---

### Syntax

```js
async function myFunc() {
  return "Hello";
}
```

---

## 4ï¸âƒ£ What Does an `async` Function RETURN?

### ğŸ”‘ MOST IMPORTANT RULE

> **An `async` function ALWAYS returns a Promise.**

Even if you return:

* a string
* a number
* an object

JavaScript **wraps it inside a Promise**.

---

### Example 1: Returning a value

```js
async function test() {
  return 10;
}
```

Calling it:

```js
const result = test();
console.log(result);
```

### Output

```
Promise { 10 }
```

JavaScript treats this as:

```js
Promise.resolve(10)
```

---

### Example 2: Returning an object

```js
async function getUser() {
  return { name: "Alice" };
}
```

Returns:

```js
Promise.resolve({ name: "Alice" })
```

---

## 5ï¸âƒ£ What If an `async` Function Throws an Error?

```js
async function fail() {
  throw new Error("Something went wrong");
}
```

This becomes:

```js
Promise.reject(new Error("Something went wrong"))
```

ğŸ“Œ Errors in async functions are **Promise rejections**.

---

## 6ï¸âƒ£ What Is `await`?

`await` is used **ONLY inside an async function**.

It tells JavaScript:

> â€œPause here until this Promise finishes, then give me the value.â€

---

### Example

```js
async function example() {
  const value = await Promise.resolve("Done");
  console.log(value);
}
```

### Execution flow

```
start function
wait for promise
get value
continue
```

---

## 7ï¸âƒ£ How to CALL an Async Function (VERY IMPORTANT)

Because async functions return Promises, you have **TWO correct ways** to handle them.

---

## âœ… Method 1: Using `await` (BEST & CLEANEST)

```js
async function main() {
  const result = await test();
  console.log(result);
}

main();
```

âœ” Clean
âœ” Readable
âœ” Preferred in modern JavaScript

---

## âœ… Method 2: Using `.then()`

```js
test().then(result => {
  console.log(result);
});
```

âœ” Works
âŒ Less readable for complex logic

---

## âŒ WRONG Way (Common Beginner Mistake)

```js
const result = test(); 
console.log(result);
```

Output:

```
Promise { <pending> }
```

You did NOT wait for it.

---

## 8ï¸âƒ£ Real Example: Async Function With Delay

```js
async function delayedHello() {
  return new Promise(resolve => {
    setTimeout(() => resolve("Hello"), 1000);
  });
}
```

---

### Calling it correctly

```js
const msg = await delayedHello();
console.log(msg);
```

OR

```js
delayedHello().then(console.log);
```

---

## 9ï¸âƒ£ Handling Errors from Async Functions

### Using `try...catch` (Recommended)

```js
async function main() {
  try {
    const data = await fail();
  } catch (err) {
    console.error(err.message);
  }
}
```

---

### Using `.catch()`

```js
fail()
  .then(console.log)
  .catch(err => console.error(err.message));
```

---

## ğŸ” Summary of Async Function Behavior

| Situation             | What Happens         |
| --------------------- | -------------------- |
| `return value`        | Promise resolves     |
| `throw error`         | Promise rejects      |
| `await promise`       | Waits for completion |
| calling without await | Returns Promise      |

---

## ğŸ”Ÿ Visual Mental Model (MEMORIZE)

```
async function
     â†“
returns Promise
     â†“
await â†’ gets value
```

---

## 1ï¸âƒ£1ï¸âƒ£ Example Connecting Everything

```js
async function xyz() {
  return "Hello";
}

async function main() {
  const result = await xyz();
  console.log(result);
}

main();
```

### JavaScript Thinks Like

```js
xyz() â†’ Promise.resolve("Hello")
await xyz() â†’ "Hello"
```

---

## 1ï¸âƒ£2ï¸âƒ£ When Should You Use `async`?

Use `async` when:

* Calling APIs
* Uploading files
* Reading databases
* Any Promise-based operation

Do NOT use it for:

* Simple calculations
* Pure synchronous logic

---

## ğŸ Final One-Line Definition (Interview Ready)

> **An async function is a function that always returns a Promise and allows asynchronous code to be written in a synchronous-looking way using `await`.**

---

## ğŸ§  Final Takeaway (MEMORIZE)

```
async â†’ Promise
await â†’ value
```

---