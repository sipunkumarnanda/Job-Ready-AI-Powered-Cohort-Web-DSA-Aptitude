



# ðŸ“˜ MongoDB `find()` & Query Filters

---

## 0ï¸âƒ£ What is MongoDB? (Starting from ZERO)

**MongoDB** is a **NoSQL database** that stores data in **documents**, not rows.

### SQL vs MongoDB

| SQL         | MongoDB    |
| ----------- | ---------- |
| Table       | Collection |
| Row         | Document   |
| Column      | Field      |
| Primary Key | `_id`      |

---

## ðŸ“„ What is a Document?

A **document** is a JSON-like object.

### Example product document:

```js
{
  _id: ObjectId("..."),
  name: "iPhone 13",
  description: "Apple smartphone",
  price: {
    amount: 15,
    currency: "USD"
  }
}
```

---

## ðŸ“¦ What is a Collection?

A **collection** is a group of documents.

Example:

```
products
```

---

## ðŸ” What is `find()`?

`find()` is used to **read data** from MongoDB.

### Basic syntax:

```js
db.collection.find(queryFilter)
```

---

## ðŸ§  What is a Query Filter?

A **query filter** is the **object passed to `find()`** that tells MongoDB:

> â€œWhich documents do I want?â€

---

## ðŸŸ¢ Simplest `find()` (no filter)

```js
db.products.find({})
```

Meaning:

> Give me **all documents**

---

## ðŸŸ¢ Find with a simple condition

```js
db.products.find({ name: "iPhone 13" })
```

Meaning:

> Give me products where `name` is exactly `"iPhone 13"`

---

## ðŸ”¢ Comparison Query Operators

MongoDB provides **operators** to compare values.

### Common ones:

| Operator | Meaning               |
| -------- | --------------------- |
| `$gt`    | greater than          |
| `$gte`   | greater than or equal |
| `$lt`    | less than             |
| `$lte`   | less than or equal    |

---

## ðŸ§ª Example: Price greater than 10

```js
db.products.find({
  price: { $gte: 10 }
})
```

---

## ðŸ§± Nested Objects & Dot Notation

### Document with nested fields:

```js
{
  price: {
    amount: 15,
    currency: "USD"
  }
}
```

To access `amount`:

### âœ… Use dot notation:

```js
"price.amount"
```

---

## ðŸ§ª Example: Price amount â‰¥ 10

```js
db.products.find({
  "price.amount": { $gte: 10 }
})
```

---

## ðŸ” Combining Conditions (Range Query)

```js
db.products.find({
  "price.amount": {
    $gte: 10,
    $lte: 20
  }
})
```

Meaning:

> Price must be **between 10 and 20**

---





---
---
---



# ðŸ“˜ MongoDB Text Search, Indexes & Dynamic Filters

### (Explained Very Simply â€“ From Scratch ðŸ§±âž¡ï¸ðŸ—ï¸)

---

# 1ï¸âƒ£ What is MongoDB? (1-minute recap)

MongoDB is a **database** that stores data as **documents** (JSON-like objects).

### Example document:

```js
{
  name: "iPhone 13",
  description: "Apple smartphone with great camera",
  price: {
    amount: 15
  }
}
```

MongoDB stores **many such documents** inside a **collection**.

---

# 2ï¸âƒ£ What is an Index? (MOST IMPORTANT CONCEPT)

### ðŸ” Simple definition:

An **index** is like an **index page in a book ðŸ“–**.

---

## ðŸ“– Book Example (Real-life analogy)

ðŸ“• Without index:

* You read **every page** to find â€œphoneâ€

ðŸ“— With index:

* You jump **directly** to the page

ðŸ‘‰ Same with databases.

---

## ðŸ§  What MongoDB does without index

```js
db.products.find({ name: "iPhone" })
```

MongoDB:

* Checks **every document**
* Very slow for big data âŒ

---

## âš¡ What MongoDB does WITH index

* Uses index
* Finds matching documents **fast** âœ…

---

## âœ… Why we use indexes

âœ” Faster search
âœ” Better performance
âœ” Required for some features (`$text`)
âœ” Used in real production apps

---

# 3ï¸âƒ£ What is a Text Index?

A **text index** is a **special index** that allows MongoDB to:

* Search words inside strings
* Search multiple fields together
* Perform Google-like text search

---

## ðŸ§  Why normal index is NOT enough

Normal index:

```js
{ name: 1 }
```

âŒ Cannot search inside sentences
âŒ Cannot match words

---

## âœ… Text index can search words

Example:

```js
"Apple smartphone with great camera"
```

Search:

```
phone
```

âœ” Match found

---

# 4ï¸âƒ£ Creating a Text Index (VERY IMPORTANT)

### Code:

```js
db.products.createIndex({
  name: "text",
  description: "text"
})
```

### Meaning:

> â€œIndex the words inside `name` and `description`â€

---

## âš ï¸ Important rules about text index

ðŸ”¸ You must create it **before using `$text`**
ðŸ”¸ Only **one text index per collection**
ðŸ”¸ Used for **searching words**, not numbers

---

# 5ï¸âƒ£ What is `$text` Search?

`$text` is a **MongoDB query operator** used to search **words**.

---

## ðŸ§ª Basic text search example

```js
db.products.find({
  $text: { $search: "phone" }
})
```

### Meaning:

> Find documents containing the word **phone**

---

## ðŸ§  What MongoDB does internally

* Uses **text index**
* Finds matching words
* Returns relevant documents

---

# 6ï¸âƒ£ Example Data to Understand Better

### Documents:

```js
{ name: "iPhone", description: "Apple smartphone" }
{ name: "Samsung TV", description: "Smart television" }
{ name: "Nokia", description: "Basic phone" }
```

### Search:

```js
$search: "phone"
```

### Results:

âœ” iPhone
âœ” Nokia
âŒ Samsung TV

---

# 7ï¸âƒ£ What is Dot Notation? (`"price.amount"`)

### Document:

```js
{
  price: {
    amount: 15,
    currency: "USD"
  }
}
```

To access `amount`, MongoDB uses:

```js
"price.amount"
```

This is called **dot notation**.

---

## ðŸ§  Why dot notation exists

* MongoDB documents can be nested
* Dot notation lets you go **inside objects**

---

# 8ï¸âƒ£ Price Filter Example (Very Simple)

```js
db.products.find({
  "price.amount": { $gte: 10 }
})
```

Meaning:

> Price should be **10 or more**

---

# 9ï¸âƒ£ What are `$gte` and `$lte`?

These are **comparison operators**.

| Operator | Meaning               |
| -------- | --------------------- |
| `$gte`   | greater than or equal |
| `$lte`   | less than or equal    |

---

## ðŸ§ª Range example

```js
{
  "price.amount": {
    $gte: 10,
    $lte: 20
  }
}
```

Meaning:

> Price between **10 and 20**

---

# ðŸ”Ÿ Combining Text Search + Price Filter

```js
db.products.find({
  $text: { $search: "phone" },
  "price.amount": {
    $gte: 10,
    $lte: 20
  }
})
```

### Meaning in plain English:

> Find products that:
>
> * contain the word **phone**
> * cost between **10 and 20**

---

# 1ï¸âƒ£1ï¸âƒ£ What is this whole object called?

```js
{
  $text: { $search: "phone" },
  "price.amount": { $gte: 10, $lte: 20 }
}
```

### ðŸ‘‰ This is called a:

## âœ… **MongoDB Query Filter (Query Selector)**

---

# 1ï¸âƒ£2ï¸âƒ£ Why Backend Builds This Dynamically

Users may:

* send search
* send min price
* send max price
* send nothing

So backend builds filter **step by step**.

---

## ðŸ§ª Backend Example Explained Slowly

```js
const filter = {};
```

âž¡ï¸ Start empty

---

```js
if (q) {
  filter.$text = { $search: q };
}
```

âž¡ï¸ Add search only if user typed something

---

```js
if (minprice) {
  filter["price.amount"] = {
    ...filter["price.amount"],
    $gte: Number(minprice)
  };
}
```

âž¡ï¸ Add minimum price
âž¡ï¸ Keep old conditions if any

---

```js
if (maxprice) {
  filter["price.amount"] = {
    ...filter["price.amount"],
    $lte: Number(maxprice)
  };
}
```

âž¡ï¸ Add maximum price
âž¡ï¸ Donâ€™t remove minimum price

---

# 1ï¸âƒ£3ï¸âƒ£ Final Example (Real API Scenario)

User URL:

```
?q=phone&minprice=10&maxprice=20
```

Backend builds:

```js
{
  $text: { $search: "phone" },
  "price.amount": {
    $gte: 10,
    $lte: 20
  }
}
```

MongoDB executes:

```js
db.products.find(filter)
```

---

# 1ï¸âƒ£4ï¸âƒ£ When Should You Use Text Index?

âœ… Product search
âœ… Blog search
âœ… Job search
âœ… E-commerce
âŒ Exact matching
âŒ Numeric comparisons

---

# ðŸ FINAL ZERO-TO-HERO SUMMARY ðŸ¦¸â€â™‚ï¸

âœ” MongoDB stores documents
âœ” Index = fast searching
âœ” Text index = word search
âœ” `$text` uses text index
âœ” Dot notation accesses nested fields
âœ” `$gte`, `$lte` filter numbers
âœ” Query filter tells MongoDB what to find
âœ” Backend builds filters dynamically
âœ” This is **real production code**

---

## ðŸŽ¯ One-Line Interview Answer

> Text index enables fast word-based search in MongoDB, and query filters combine text search with numeric conditions using dot notation and comparison operators.

---