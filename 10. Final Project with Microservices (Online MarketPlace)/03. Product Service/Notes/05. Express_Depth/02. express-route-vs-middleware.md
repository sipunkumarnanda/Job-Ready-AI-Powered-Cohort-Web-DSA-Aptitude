


## âœ… Route Registration

### What it is

> **Route registration tells Express how to handle a specific HTTP method + path.**

### Example

```js
app.get('/users', getUsers);
app.post('/users', createUser);
```

### What Express stores

```txt
Method: GET
Path: /users
Handlers: [getUsers]
```

### When it runs

* Registered **once** at server startup
* Executed **only when** method + path match

### Key traits

* Method-specific (`GET`, `POST`, etc.)
* Exact path matching
* Usually ends the request

---

## âœ… Middleware Registration

### What it is

> **Middleware registration tells Express to run logic before or between routes.**

### Example

```js
app.use(authMiddleware);
app.use('/api', logger);
```

### What Express stores

```txt
Path prefix: /api
Handlers: [logger]
```

### When it runs

* Registered **once** at server startup
* Executed for **every matching request**

### Key traits

* No HTTP method restriction
* Prefix-based matching
* Can modify `req` / `res`
* Usually calls `next()`

---

## ğŸ§  Side-by-Side Comparison

| Feature        | Route          | Middleware       |
| -------------- | -------------- | ---------------- |
| HTTP method    | Required       | Not required     |
| Path match     | Exact          | Prefix           |
| Purpose        | Handle request | Pre/Post-process |
| Runs           | On match       | On every match   |
| Calls `next()` | Optional       | Usually          |
| Ends request   | Often          | Sometimes        |

---

## ğŸ” Execution Flow Example

```js
app.use(logger);
app.use('/api', auth);

app.get('/api/users', controller);
```

Request: `GET /api/users`

Execution order:

```
logger â†’
auth â†’
controller
```

---

## ğŸ Interview-ready summary (memorize)

> **Route registration defines what handles a request; middleware registration defines what runs before or between request handlers.**

---

## ğŸš© Common Interview Trap

âŒ â€œMiddleware and routes are the sameâ€
âœ” **Routes are specialized middleware with HTTP method + path**

---

## â­ Bonus insight (advanced but impressive)

In Express internals, **routes are implemented on top of middleware** â€” thatâ€™s why they share `req`, `res`, and `next()`.

---