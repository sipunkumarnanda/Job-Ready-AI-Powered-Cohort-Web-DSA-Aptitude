


# ğŸ“Š Mongoose Comparison Operators (In-Depth Notes)

Mongoose comparison operators are used to **compare field values** in MongoDB documents.  
They help filter data based on **numbers, dates, strings, and ranges**.

These operators are heavily used in:
- ğŸ” Searching
- ğŸ“ˆ Filtering
- ğŸ§® Reports & analytics
- ğŸ›  Backend APIs

---

## ğŸ§± Database Schema (Used in All Examples)

```js
const mongoose = require("mongoose");

const userSchema = new mongoose.Schema({
  name: String,
  age: Number,
  salary: Number,
  isActive: Boolean,
  createdAt: Date
});

const User = mongoose.model("User", userSchema);
````

---

## ğŸ”‘ List of Mongoose Comparison Operators

| Operator | Meaning                        |
| -------- | ------------------------------ |
| `$eq`    | Equal to                       |
| `$ne`    | Not equal to                   |
| `$gt`    | Greater than                   |
| `$gte`   | Greater than or equal to       |
| `$lt`    | Less than                      |
| `$lte`   | Less than or equal to          |
| `$in`    | Matches any value in array     |
| `$nin`   | Does not match values in array |

---

## ğŸŸ° `$eq` â€” Equal To

### ğŸ“Œ What It Does

Matches documents where a field value is **exactly equal** to the given value.

### ğŸ•’ When to Use

* Finding a specific value
* Exact matches

### ğŸ“ Where to Use

* User role
* Status fields
* Fixed values

### ğŸ§  How to Use

```js
{ field: { $eq: value } }
```

### ğŸ“‚ Example

```js
User.find({ age: { $eq: 25 } });
```

âœ… Finds users whose age is **exactly 25**

---

## ğŸš« `$ne` â€” Not Equal To

### ğŸ“Œ What It Does

Matches documents where a field value is **NOT equal** to the given value.

### ğŸ•’ When to Use

* Excluding specific values

### ğŸ“ Where to Use

* Ignore inactive users
* Exclude certain roles

### ğŸ§  How to Use

```js
{ field: { $ne: value } }
```

### ğŸ“‚ Example

```js
User.find({ isActive: { $ne: false } });
```

âœ… Finds users who are **not inactive**

---

## â¬†ï¸ `$gt` â€” Greater Than

### ğŸ“Œ What It Does

Matches values **greater than** a given number.

### ğŸ•’ When to Use

* Minimum limits
* Threshold checks

### ğŸ“ Where to Use

* Salary filters
* Age filters

### ğŸ§  How to Use

```js
{ field: { $gt: value } }
```

### ğŸ“‚ Example

```js
User.find({ salary: { $gt: 50000 } });
```

âœ… Finds users earning **more than 50,000**

---

## â¬†ï¸â• `$gte` â€” Greater Than or Equal To

### ğŸ“Œ What It Does

Matches values **greater than or equal to** the given value.

### ğŸ•’ When to Use

* Inclusive conditions

### ğŸ“ Where to Use

* Minimum age
* Price ranges

### ğŸ§  How to Use

```js
{ field: { $gte: value } }
```

### ğŸ“‚ Example

```js
User.find({ age: { $gte: 18 } });
```

âœ… Finds users who are **18 or older**

---

## â¬‡ï¸ `$lt` â€” Less Than

### ğŸ“Œ What It Does

Matches values **less than** a given number.

### ğŸ•’ When to Use

* Upper limits

### ğŸ“ Where to Use

* Underage filtering
* Discount logic

### ğŸ§  How to Use

```js
{ field: { $lt: value } }
```

### ğŸ“‚ Example

```js
User.find({ age: { $lt: 60 } });
```

âœ… Finds users **younger than 60**

---

## â¬‡ï¸â– `$lte` â€” Less Than or Equal To

### ğŸ“Œ What It Does

Matches values **less than or equal to** a given number.

### ğŸ•’ When to Use

* Inclusive upper bounds

### ğŸ“ Where to Use

* Salary caps
* Date ranges

### ğŸ§  How to Use

```js
{ field: { $lte: value } }
```

### ğŸ“‚ Example

```js
User.find({ salary: { $lte: 100000 } });
```

âœ… Finds users earning **100,000 or less**

---

## ğŸ“¦ `$in` â€” Match Any Value in Array

### ğŸ“Œ What It Does

Matches documents where field value exists **inside a list of values**.

### ğŸ•’ When to Use

* Multiple allowed values

### ğŸ“ Where to Use

* Roles
* Categories
* Status filters

### ğŸ§  How to Use

```js
{ field: { $in: [value1, value2] } }
```

### ğŸ“‚ Example

```js
User.find({ age: { $in: [25, 30, 35] } });
```

âœ… Finds users aged **25, 30, or 35**

---

## ğŸš«ğŸ“¦ `$nin` â€” Not in Array

### ğŸ“Œ What It Does

Matches documents where field value is **NOT in the given list**.

### ğŸ•’ When to Use

* Exclusion filters

### ğŸ“ Where to Use

* Blacklists
* Ignored values

### ğŸ§  How to Use

```js
{ field: { $nin: [value1, value2] } }
```

### ğŸ“‚ Example

```js
User.find({ age: { $nin: [18, 21] } });
```

âœ… Finds users **excluding ages 18 and 21**

---

## ğŸ”¥ Combining Comparison Operators

### ğŸ“‚ Example: Age between 18 and 30

```js
User.find({
  age: { $gte: 18, $lte: 30 }
});
```

---

## ğŸ§  Best Practices

âœ” Always index fields used in comparisons
âœ” Use `$gte` & `$lte` for ranges
âœ” Prefer `$in` over multiple OR conditions
âœ” Validate input before querying
âœ” Combine with logical operators (`$and`, `$or`)

---

## ğŸ¯ Summary

* Comparison operators filter data based on values
* Core operators: `$eq`, `$ne`, `$gt`, `$gte`, `$lt`, `$lte`, `$in`, `$nin`
* Essential for real-world APIs and backend logic
* Used in almost every MongoDB/Mongoose application

---