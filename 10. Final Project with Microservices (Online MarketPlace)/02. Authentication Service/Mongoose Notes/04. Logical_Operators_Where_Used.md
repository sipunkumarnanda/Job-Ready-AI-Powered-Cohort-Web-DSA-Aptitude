


# ğŸ§  Where Logical Operators Are Used in **MongoDB**

ğŸ‘‰ **Rule to remember:**

> ğŸ’¡ **Logical operators are used inside the *query/filter object***
> So they work with **every MongoDB method that accepts a filter**

---

## ğŸ“Œ MongoDB Methods That Accept Logical Operators

---

## 1ï¸âƒ£ `find()` ğŸ”

### âœ… Syntax

```js
db.users.find({
  $or: [
    { age: 18 },
    { city: "Delhi" }
  ]
})
```

ğŸ“Œ Used to fetch **multiple documents**

---

## 2ï¸âƒ£ `findOne()` ğŸ§

### âœ… Syntax

```js
db.users.findOne({
  $or: [
    { email: "admin@gmail.com" },
    { username: "admin" }
  ]
})
```

ğŸ“Œ Returns **only one matching document**

---

## 3ï¸âƒ£ `findById()` ğŸ†” (Mongoose)

âš ï¸ **Important:**
`findById()` is a **Mongoose method**, NOT a MongoDB native method.

### âŒ Logical operators NOT used here

```js
User.findById(id)   // Only _id is allowed
```

ğŸ“Œ `findById()` internally becomes:

```js
findOne({ _id: id })
```

---

## 4ï¸âƒ£ `findOneAndUpdate()` ğŸ”„

### âœ… Syntax

```js
db.users.findOneAndUpdate(
  {
    $or: [
      { email: "test@gmail.com" },
      { username: "test" }
    ]
  },
  { $set: { isActive: true } }
)
```

ğŸ“Œ Finds **one document using logical operators and updates it**

---

## 5ï¸âƒ£ `updateOne()` âœï¸

### âœ… Syntax

```js
db.users.updateOne(
  {
    $and: [
      { role: "user" },
      { isActive: false }
    ]
  },
  { $set: { isActive: true } }
)
```

---

## 6ï¸âƒ£ `updateMany()` ğŸ§¾

### âœ… Syntax

```js
db.users.updateMany(
  {
    $or: [
      { city: "Delhi" },
      { city: "Mumbai" }
    ]
  },
  { $set: { region: "India" } }
)
```

---

## 7ï¸âƒ£ `deleteOne()` ğŸ—‘ï¸

### âœ… Syntax

```js
db.users.deleteOne({
  $or: [
    { email: "spam@gmail.com" },
    { isBlocked: true }
  ]
})
```

---

## 8ï¸âƒ£ `deleteMany()` âŒ

### âœ… Syntax

```js
db.users.deleteMany({
  $nor: [
    { isActive: true },
    { role: "admin" }
  ]
})
```

---

## 9ï¸âƒ£ `countDocuments()` ğŸ”¢

### âœ… Syntax

```js
db.users.countDocuments({
  $and: [
    { isActive: true },
    { age: { $gte: 18 } }
  ]
})
```

---

## ğŸ” Summary Table (MOST IMPORTANT ğŸ‘‡)

| Method               | Logical Operators Allowed? |
| -------------------- | -------------------------- |
| `find()`             | âœ… Yes                      |
| `findOne()`          | âœ… Yes                      |
| `findById()`         | âŒ No                       |
| `findOneAndUpdate()` | âœ… Yes                      |
| `updateOne()`        | âœ… Yes                      |
| `updateMany()`       | âœ… Yes                      |
| `deleteOne()`        | âœ… Yes                      |
| `deleteMany()`       | âœ… Yes                      |
| `countDocuments()`   | âœ… Yes                      |

---

## ğŸ§  Golden Rule to Remember ğŸ†

âœ¨ **If a MongoDB method accepts a `filter/query` object â†’ logical operators work there.**

âŒ If it accepts **only `_id`** â†’ logical operators do NOT apply.

---

## ğŸ¯ Interview One-Liner

ğŸ—£ï¸ **"Logical operators like `$or` and `$and` are used in all MongoDB methods that accept a query filter, such as find, update, delete, and findOneAndUpdate, but not in findById."**

---
