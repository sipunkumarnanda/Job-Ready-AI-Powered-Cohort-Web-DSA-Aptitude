

# ðŸ”— URL Parameters vs ðŸ” Query Parameters

### ðŸ“˜ In-Depth Notes (Express.js & REST APIs)

---

## ðŸ“Œ 1. Introduction

When building APIs with **Express.js**, data can be sent through the URL in **two main ways**:

1. **URL Parameters (Path Parameters)**
2. **Query Parameters**

Although both are part of the URL, **they serve different purposes** and are handled differently in Express.

Understanding this difference is **critical** for:

* REST API design
* Debugging `undefined` values
* Writing clean, scalable backend code

---

## ðŸ§­ 2. URL Parameters (Path Parameters)

---

### ðŸ“– Definition

**URL parameters** are variables that are **embedded directly in the URL path**.
They are typically used to **identify a specific resource**.

---

### ðŸ”‘ Key Characteristics

* Part of the URL path
* Usually **mandatory**
* Identify a **single resource**
* Commonly used in `GET`, `PUT`, `DELETE`

---

### âœ… Example URL

```
DELETE /api/auth/users/me/addresses/1261ghdsghshgdghsbd
```

Here:

```
1261ghdsghshgdghsbd â†’ addressId
```

---

### ðŸ› ï¸ Route Definition (Express)

```js
router.delete(
  "/users/me/addresses/:addressId",
  authMiddleware,
  deleteAddress
);
```

---

### ðŸ“¥ Accessing URL Params in Controller

```js
const { addressId } = req.params;
```

---

### ðŸŽ¯ Typical Use Cases

âœ” Fetch a single record
âœ” Update a specific resource
âœ” Delete a resource

---

### ðŸŒ Real-World Examples

```txt
/users/42              â†’ get user with id 42
/orders/983            â†’ get order 983
/products/abc123       â†’ delete product abc123
```

---

### ðŸ§  Important Note

If the route does **not** contain `:addressId`, then:

```js
req.params.addressId === undefined
```

---

## ðŸ” 3. Query Parameters

---

### ðŸ“– Definition

**Query parameters** are key-value pairs added **after `?`** in the URL.
They are mainly used for **filtering, searching, sorting, or optional data**.

---

### ðŸ”‘ Key Characteristics

* Appear after `?`
* Optional by nature
* Can be multiple
* Do **not** identify a resource directly

---

### âœ… Example URL

```
DELETE /api/auth/users/me/addresses?addressId=1261ghdsghshgdghsbd
```

Here:

```
addressId = 1261ghdsghshgdghsbd
```

---

### ðŸ› ï¸ Route Definition (Express)

```js
router.delete(
  "/users/me/addresses",
  authMiddleware,
  deleteAddress
);
```

---

### ðŸ“¥ Accessing Query Params in Controller

```js
const { addressId } = req.query;
```

---

### ðŸŽ¯ Typical Use Cases

âœ” Filtering results
âœ” Searching
âœ” Pagination
âœ” Sorting

---

### ðŸŒ Real-World Examples

```txt
/products?category=mobile
/products?page=2&limit=10
/users?active=true
```

---

## ðŸ§  4. Core Differences (VERY IMPORTANT)

| Feature        | URL Params        | Query Params     |
| -------------- | ----------------- | ---------------- |
| Position       | URL path          | After `?`        |
| Required       | Usually yes       | Usually optional |
| Purpose        | Identify resource | Filter / modify  |
| Express Access | `req.params`      | `req.query`      |
| REST Style     | âœ… Strong          | âš ï¸ Weak          |

---

## ðŸš¨ 5. Common Mistake (Your Exact Issue)

### âŒ Mistake

```js
const { addressId } = req.params;
```

But request URL was:

```
/addresses?addressId=123
```

---

### ðŸ” Why It Fails

* No `:addressId` in route
* `addressId` was sent as **query param**
* `req.params` is empty

---

### âœ… Correct Fix

```js
const { addressId } = req.query;
```

---

## â­ 6. REST API Best Practice (EXAM + INTERVIEW)

### ðŸ”¥ Recommended Pattern

| Operation     | Preferred Param Type |
| ------------- | -------------------- |
| Get one item  | URL param            |
| Delete item   | URL param            |
| Update item   | URL param            |
| Filter/search | Query param          |

---

### âœ… Better REST Design (Your Case)

```
DELETE /api/auth/users/me/addresses/:addressId
```

Instead of:

```
DELETE /api/auth/users/me/addresses?addressId=...
```

---

## ðŸ§  7. Quick Memory Trick ðŸ§©

> ðŸ”¹ **Slash (`/`) â†’ URL Param â†’ `req.params`**
> ðŸ”¹ **Question mark (`?`) â†’ Query Param â†’ `req.query`**

---

## ðŸ 8. Final Summary

* URL params identify **which resource**
* Query params describe **how to fetch or filter**
* Using the wrong one leads to `undefined`
* REST APIs prefer URL params for CRUD operations

---

## ðŸ† One-Line Exam Answer

> **URL parameters identify a specific resource, while query parameters are used for filtering and optional data.**

---